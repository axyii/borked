<h1>Using doas on Arch Linux</h1>

<hr />

<p>I recently uninstalled &lsquo;sudo&rsquo; and started using &lsquo;doas&rsquo;: a utility used to assume the identity of another user. It&rsquo;s just like sudo but easier to manage and very simple to use. I would not recommend using it in systems where highly refined user permissions are required, but if you have a single user box or a desktop,Â I would say you are good to go. One of the major reasons I switched to is because it&rsquo;s wayy smaller and minimal than sudo.So, let&rsquo;s get started on setting it up</p>

<p>Install doas from the Arch repository as root</p>

<pre><code>pacman -S doas
</code></pre>

<p>Create a simple config for doas in /etc/doas.conf as root</p>

<pre><code>/etc/doas.conf
---------------

permit :wheel
</code></pre>

<p>or you could even use the persist feature which does not ask for a password after authentication.</p>

<p>Note: The persist feature is disabled by default because it is new and potentially dangerous. In the original doas by OpenBSD, a kernel API is used to set and clear timeouts. This API is OpenBSD specific and no similar API is available on other operating systems. As a workaround, the persist feature is implemented using timestamp files similar to sudo.</p>

<pre><code>/etc/doas.conf
---------------

permit persist :wheel
</code></pre>

<p>Now, check the configuration for any errors using</p>

<pre><code>doas -C /etc/doas.conf
</code></pre>

<p>To rectify any errors or for more configuration options read the man pages</p>

<pre><code>man doas.conf
</code></pre>

<p>If you have sudo installed you can just uninstall it using</p>

<pre><code>doas pacman -Rs sudo
</code></pre>

<p>Sometimes, makepkg in Arch Linux depends on sudo so you have to create a symlink to sudo which enables you to use the command sudo to invoke doas.</p>

<pre><code>doas ln -s /usr/bin/doas /usr/bin/sudo
</code></pre>

<p>Now you have doas fully configured on your system.</p>
